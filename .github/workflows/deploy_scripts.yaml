name: Deploy Zabbix Agent

on: push

jobs:
  deploy_agent:
    runs-on: self-hosted
    steps:
      - name: Set up Checkout
        uses: actions/checkout@v4

      - name: Welcome message
        run: echo "My first Github Actions Job"

      - name: List files
        run: ls -l

      - name: Read file
        run: cat README.md

      - name: Check directory
        run: pwd

      - name: Move File
        run: cp deploy_agent.sh /home/ubuntu/

      - name: Move Pem File
        run: mv zbx_srv1.pem /home/ubuntu/zbx_srv1.pem       

      - name: Execute the Script
        run: bash -x deploy_agent.sh